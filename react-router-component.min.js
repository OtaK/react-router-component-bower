!function(t,e){"function"==typeof define&&define.amd?define(["react"],e):t.ReactRouter=e(t.React)}(this,function(t){var e=window.__ReactShim=window.__ReactShim||{};e.React=t,e.cloneWithProps=t.addons.cloneWithProps,e.invariant=function(t,e){if(!t)throw new Error(e)};var n=e.mergeInto=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};e.merge=function(t,e){var r={};return n(r,t),n(r,e),r},e.emptyFunction=function(){},e.ExecutionEnvironment={canUseDOM:!0},e.ReactUpdates={batchedUpdates:function(t){t()}},!function(t){if("object"==typeof exports)module.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.ReactRouter=t()}}(function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return i(n?n:t)},u,u.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e){"use strict";var n=t("./lib/Router"),r=t("./lib/Route"),i=t("./lib/Link"),o=t("./lib/RouterMixin"),a=t("./lib/AsyncRouteRenderingMixin"),s=t("./lib/RouteRenderingMixin"),c=t("./lib/NavigatableMixin"),u=t("./lib/Environment");e.exports={Locations:n.Locations,Pages:n.Pages,Location:r.Route,Page:r.Route,NotFound:r.NotFound,Link:i,Environment:u,RouterMixin:o,RouteRenderingMixin:s,AsyncRouteRenderingMixin:a,NavigatableMixin:c}},{"./lib/AsyncRouteRenderingMixin":2,"./lib/Environment":3,"./lib/Link":4,"./lib/NavigatableMixin":5,"./lib/Route":6,"./lib/RouteRenderingMixin":7,"./lib/Router":8,"./lib/RouterMixin":9}],2:[function(t,e){"use strict";var n=t("react-async/lib/prefetchAsyncState"),r=t("react-async/lib/isAsyncComponent"),i=window.__ReactShim.cloneWithProps,o={shouldComponentUpdate:function(t,e){if(e.pendingChildren)return!0;var i=e.match,o=i.getHandler(!0);return o&&r(o)?(n(o,function(t,e){this.isMounted()&&this.state.match===i&&this.replaceState({match:this.state.match,prefix:this.state.prefix,navigation:this.state.navigation,pendingChildren:e})}.bind(this)),!1):!0},renderRouteHandler:function(){if(this.state.pendingChildren){var t=this.state.match.route&&this.state.match.route.ref;return i(this.state.pendingChildren,{ref:t})}return this.state.match.getHandler()}};e.exports=o},{"react-async/lib/isAsyncComponent":11,"react-async/lib/prefetchAsyncState":12}],3:[function(t,e){"use strict";function n(){this.routers=[],this.path=this.getPath()}function r(){n.call(this)}function i(){n.call(this)}function o(){n.call(this)}var a=window.__ReactShim.ReactUpdates,s=window.__ReactShim.emptyFunction,c=window.__ReactShim.ExecutionEnvironment;n.prototype.notify=function(t,e){function n(){r-=1,e&&0===r&&e()}var r=this.routers.length;return 0===r?e&&e():void a.batchedUpdates(function(){for(var e=0,r=this.routers.length;r>e;e++)this.routers[e].setPath(this.path,t,n)}.bind(this))},n.prototype.makeHref=function(t){return t},n.prototype.navigate=function(t,e,n){return"function"==typeof e&&void 0===n&&(n=e,e={}),this.setPath(t,e,n)},n.prototype.setPath=function(t,e,n){e.isPopState||(e.replace?this.replaceState(t,e):this.pushState(t,e)),this.path=t,this.notify(e,n)},n.prototype.register=function(t){0===this.routers.length&&this.start(),t.getParentRouter()||this.routers.push(t)},n.prototype.unregister=function(t){this.routers.indexOf(t)>-1&&this.routers.splice(this.routers.indexOf(t),1),0===this.routers.length&&this.stop()},r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.getPath=function(){return window.location.pathname},r.prototype.pushState=function(t){window.history.pushState({},"",t)},r.prototype.replaceState=function(t){window.history.replaceState({},"",t)},r.prototype.start=function(){window.addEventListener("popstate",this.onPopState.bind(this))},r.prototype.stop=function(){window.removeEventListener("popstate",this.onPopState.bind(this))},r.prototype.onPopState=function(){var t=window.location.pathname;this.path!==t&&this.setPath(t,{isPopState:!0})},i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.prototype.getPath=function(){return window.location.hash.slice(1)||"/"},i.prototype.pushState=function(t){window.location.hash=t},i.prototype.replaceState=function(t){var e=window.location.href.replace(/(javascript:|#).*$/,"");window.location.replace(e+"#"+t)},i.prototype.start=function(){window.addEventListener("hashchange",this.onHashChange.bind(this))},i.prototype.stop=function(){window.removeEventListener("hashchange",this.onHashChange.bind(this))},i.prototype.onHashChange=function(){var t=this.getPath();this.path!==t&&this.setPath(t,{isPopState:!0})},o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.getPath=s.thatReturnsNull,o.prototype.setPath=function(t,e){this.path=t,e()},o.prototype.start=s,o.prototype.stop=s;var u,h,p,f,l={componentDidMount:function(){this.getEnvironment().register(this)},componentWillUnmount:function(){this.getEnvironment().unregister(this)}};c.canUseDOM?(u=new r,h=new i,p=void 0!==window.history?u:h):(f=new o,u=f,h=f,p=f),e.exports={pathnameEnvironment:u,hashEnvironment:h,defaultEnvironment:p,dummyEnvironment:f,Environment:n,PathnameEnvironment:r,HashEnvironment:i,Mixin:l}},{}],4:[function(t,e){"use strict";var n=window.__ReactShim.React,r=t("./NavigatableMixin"),i=t("./Environment"),o=n.createClass({mixins:[r],displayName:"Link",propTypes:{href:n.PropTypes.string.isRequired,global:n.PropTypes.bool,globalHash:n.PropTypes.bool},onClick:function(t){this.props.onClick&&this.props.onClick(t),t.defaultPrevented||(t.preventDefault(),this._navigate(this.props.href,function(t){if(t)throw t}))},_navigationParams:function(){var t={};for(var e in this.props)this.constructor.propTypes[e]||(t[e]=this.props[e]);return t},_createHref:function(){return this.props.global?i.defaultEnvironment.makeHref(this.props.href):this.makeHref(this.props.href)},_navigate:function(t,e){return this.props.globalHash?i.hashEnvironment.navigate(t,e):this.props.global?i.defaultEnvironment.navigate(t,e):this.navigate(t,this._navigationParams(),e)},render:function(){var t={onClick:this.onClick,href:this._createHref()};return this.transferPropsTo(n.DOM.a(t,this.props.children))}});e.exports=o},{"./Environment":3,"./NavigatableMixin":5}],5:[function(t,e){"use strict";var n=window.__ReactShim.React,r=t("./Environment"),i={contextTypes:{router:n.PropTypes.component},_getNavigable:function(){return this.context.router||r.defaultEnvironment},getPath:function(){return this._getNavigable().getPath()},navigate:function(t,e){return this._getNavigable().navigate(t,e)},makeHref:function(t){return this._getNavigable().makeHref(t)}};e.exports=i},{"./Environment":3}],6:[function(t,e){"use strict";function n(t,e){var n=t.handler,r=t.path,i=t.ref,c=a({},t);delete c.path,delete c.handler,delete c.ref;var u={path:r,handler:n,props:c,ref:i};return e&&s(u,e),o("function"==typeof u.handler,"Route handler should be a component or a function but got: %s",n),o(void 0!==u.path,"Route should have an URL pattern specified: %s",n),u}function r(t){return n(t)}function i(t){return n(t,{path:null})}var o=window.__ReactShim.invariant,a=window.__ReactShim.merge,s=window.__ReactShim.mergeInto;e.exports={Route:r,NotFound:i}},{}],7:[function(t,e){"use strict";var n={renderRouteHandler:function(){return this.state.match.getHandler()}};e.exports=n},{}],8:[function(t,e){"use strict";function n(t,e){return r.createClass({mixins:[i,o],displayName:t,getRoutes:function(t){return t.children},getDefaultProps:function(){return{component:e}},render:function(){var t=this.renderRouteHandler();return this.transferPropsTo(this.props.component(null,t))}})}var r=window.__ReactShim.React,i=t("./RouterMixin"),o=t("./AsyncRouteRenderingMixin");e.exports={createRouter:n,Locations:n("Locations",r.DOM.div),Pages:n("Pages",r.DOM.body)}},{"./AsyncRouteRenderingMixin":2,"./RouterMixin":9}],9:[function(t,e){"use strict";function n(t,e){return(t+e).replace(/\/\//g,"/")}function r(t){return"[object String]"===Object.prototype.toString.call(t)}var i=window.__ReactShim.React,o=window.__ReactShim.invariant,a=window.__ReactShim.emptyFunction,s=t("./matchRoutes"),c=t("./Environment"),u={mixins:[c.Mixin],propTypes:{path:i.PropTypes.string,contextual:i.PropTypes.bool,onBeforeNavigation:i.PropTypes.func,onNavigation:i.PropTypes.func},getDefaultProps:function(){return{onBeforeNavigation:a,onNavigation:a}},childContextTypes:{router:i.PropTypes.component},getChildContext:function(){return{router:this}},contextTypes:{router:i.PropTypes.component},getInitialState:function(){return this.getRouterState(this.props)},componentWillReceiveProps:function(t){var e=this.getRouterState(t);this.replaceState(e)},getRouterState:function(t){var e,n,i=this.getParentRouter();if(t.contextual&&i){var a=i.getMatch();o(t.path||r(a.unmatchedPath),"contextual router has nothing to match on: %s",a.unmatchedPath),e=t.path||a.unmatchedPath,n=a.matchedPath}else e=t.path||this.getEnvironment().getPath(),o(r(e),"router operate in environment which cannot provide path, pass it a path prop; or probably you want to make it contextual"),n="";return"/"!==e[0]&&(e="/"+e),{match:s(this.getRoutes(t),e),prefix:n,navigation:{}}},getEnvironment:function(){return this.props.environment?this.props.environment:this.props.hash?c.hashEnvironment:this.props.contextual&&this.context.router?this.context.router.getEnvironment():c.defaultEnvironment},getParentRouter:function(){for(var t=this.context.router,e=this.getEnvironment();t;)if(t.getEnvironment()===e)return t},getMatch:function(){return this.state.match},makeHref:function(t){return n(this.state.prefix,t)},navigate:function(t,e,r){"function"==typeof e&&void 0===r&&(r=e,e={}),e=e||{},t=n(this.state.prefix,t),this.getEnvironment().setPath(t,e,r)},setPath:function(t,e,n){this.props.onBeforeNavigation(t,e),this.replaceState({match:s(this.getRoutes(this.props),t),prefix:this.state.prefix,navigation:e},function(){this.props.onNavigation(),n()}.bind(this))},getPath:function(){return this.state.match.path}};e.exports=u},{"./Environment":3,"./matchRoutes":10}],10:[function(t,e){"use strict";function n(t,e){var n,o,a;Array.isArray(t)||(t=[t]);for(var s=0,c=t.length;c>s;s++){var u=t[s];u.path&&(u.pattern=u.pattern||i(u.path),o||(n=u.pattern.match(e),n&&(o=u))),a||null!==u.path||(a=u)}return new r(e,o?o:a?a:null,n)}function r(t,e,n){this.path=t,this.route=e,this.match=n,this.unmatchedPath=this.match&&this.match._?this.match._[0]:null,this.matchedPath=this.unmatchedPath?this.path.substring(0,this.path.length-this.unmatchedPath.length):this.path}{var i=t("url-pattern"),o=window.__ReactShim.mergeInto;window.__ReactShim.invariant}r.prototype.getHandler=function(t){var e={ref:!t&&this.route?this.route.ref:void 0};return this.route&&this.match&&(o(e,this.match),o(e,this.route.props)),this.route?this.route.handler(e):void 0},e.exports=n},{"url-pattern":26}],11:[function(t,e){"use strict";function n(t){return"function"==typeof Object.getPrototypeOf(t).getInitialStateAsync}e.exports=n},{}],12:[function(t,e){"use strict";function n(t,e){r(o(t),"%s should be an async component to be able to prefetch async state, but getInitialStateAsync(cb) method is missing or is not a function",t.displayName);var n=Object.getPrototypeOf(t).getInitialStateAsync;n.call(t,function(n,r){return n?e(n):void e(null,i(t,{asyncState:r}))})}var r=t("react/lib/invariant"),i=t("react/lib/cloneWithProps"),o=t("./isAsyncComponent");e.exports=n},{"./isAsyncComponent":11,"react/lib/cloneWithProps":14,"react/lib/invariant":17}],13:[function(t,e){"use strict";function n(t){return function(e,n,r){e[n]=e.hasOwnProperty(n)?t(e[n],r):r}}var r=t("./emptyFunction"),i=t("./invariant"),o=t("./joinClasses"),a=t("./merge"),s={children:r,className:n(o),key:r,ref:r,style:n(a)},c={TransferStrategies:s,mergeProps:function(t,e){var n=a(t);for(var r in e)if(e.hasOwnProperty(r)){var i=s[r];i&&s.hasOwnProperty(r)?i(n,r,e[r]):n.hasOwnProperty(r)||(n[r]=e[r])}return n},Mixin:{transferPropsTo:function(t){return i(t._owner===this),t.props=c.mergeProps(t.props,this.props),t}}};e.exports=c},{"./emptyFunction":16,"./invariant":17,"./joinClasses":18,"./merge":21}],14:[function(t,e){"use strict";function n(t,e){var n=r.mergeProps(e,t.props);return!n.hasOwnProperty(o)&&t.props.hasOwnProperty(o)&&(n.children=t.props.children),t.constructor.ConvenienceConstructor(n)}var r=t("./ReactPropTransferer"),i=t("./keyOf"),o=(t("./warning"),i({children:null}));e.exports=n},{"./ReactPropTransferer":13,"./keyOf":20,"./warning":24}],15:[function(t,e){function n(t,e,n,r,i,o,a){t=t||{};for(var s,c=[e,n,r,i,o],u=0;c[u];){s=c[u++];for(var h in s)t[h]=s[h];s.hasOwnProperty&&s.hasOwnProperty("toString")&&"undefined"!=typeof s.toString&&t.toString!==s.toString&&(t.toString=s.toString)}return t}e.exports=n},{}],16:[function(t,e){function n(t){return function(){return t}}function r(){}var i=t("./copyProperties");i(r,{thatReturns:n,thatReturnsFalse:n(!1),thatReturnsTrue:n(!0),thatReturnsNull:n(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(t){return t}}),e.exports=r},{"./copyProperties":15}],17:[function(t,e){"use strict";var n=function(t){if(!t){var e=new Error("Minified exception occured; use the non-minified dev environment for the full error message and additional helpful warnings.");throw e.framesToPop=1,e}};e.exports=n},{}],18:[function(t,e){"use strict";function n(t){t||(t="");var e,n=arguments.length;if(n>1)for(var r=1;n>r;r++)e=arguments[r],e&&(t+=" "+e);return t}e.exports=n},{}],19:[function(t,e){"use strict";var n=t("./invariant"),r=function(t){var e,r={};n(t instanceof Object&&!Array.isArray(t));for(e in t)t.hasOwnProperty(e)&&(r[e]=e);return r};e.exports=r},{"./invariant":17}],20:[function(t,e){var n=function(t){var e;for(e in t)if(t.hasOwnProperty(e))return e;return null};e.exports=n},{}],21:[function(t,e){"use strict";var n=t("./mergeInto"),r=function(t,e){var r={};return n(r,t),n(r,e),r};e.exports=r},{"./mergeInto":23}],22:[function(t,e){"use strict";var n=t("./invariant"),r=t("./keyMirror"),i=36,o=function(t){return"object"!=typeof t||null===t},a={MAX_MERGE_DEPTH:i,isTerminal:o,normalizeMergeArg:function(t){return void 0===t||null===t?{}:t},checkMergeArrayArgs:function(t,e){n(Array.isArray(t)&&Array.isArray(e))},checkMergeObjectArgs:function(t,e){a.checkMergeObjectArg(t),a.checkMergeObjectArg(e)},checkMergeObjectArg:function(t){n(!o(t)&&!Array.isArray(t))},checkMergeLevel:function(t){n(i>t)},checkArrayStrategy:function(t){n(void 0===t||t in a.ArrayStrategies)},ArrayStrategies:r({Clobber:!0,IndexByIndex:!0})};e.exports=a},{"./invariant":17,"./keyMirror":19}],23:[function(t,e){"use strict";function n(t,e){if(i(t),null!=e){i(e);for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}}var r=t("./mergeHelpers"),i=r.checkMergeObjectArg;e.exports=n},{"./mergeHelpers":22}],24:[function(t,e){"use strict";var n=t("./emptyFunction"),r=n;e.exports=r},{"./emptyFunction":16}],25:[function(t,e){var n,r=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};e.exports=n={getNames:function(t){var e,n,i,o;if(t instanceof RegExp)return[];for(i=/((:?:[^\/]+)|(?:[\*]))/g,n=[],o=i.exec(t);null!=o;){if(e=o[1].slice(1),"_"===e)throw new TypeError(":_ can't be used as a pattern name in pattern "+t);if(r.call(n,e)>=0)throw new TypeError("duplicate pattern name :"+e+" in pattern "+t);n.push(e||"_"),o=i.exec(t)}return n},toRegexString:function(t){return n.getNames(t).forEach(function(e){return t=t.replace(":"+e,"([^/]+)")}),"^"+t.replace(/\*/g,"(.*)")+"$"}}},{}],26:[function(t,e){var n,r;n=t("./common"),r={match:function(t){var e,n,r,i,o,a,s,c;if(i=this.regex.exec(t),null==i)return null;if(n=i.slice(1),this.isRegex)return n;for(e={},r=s=0,c=n.length;c>s;r=++s)a=n[r],o=this.names[r],"_"===o?(null==e._&&(e._=[]),e._.push(a)):e[o]=a;return e}},e.exports=function(t){var e,i;if(e=t instanceof RegExp,"string"!=typeof t&&!e)throw new TypeError("argument must be a regex or a string");return i=Object.create(r),i.isRegex=e,i.regex=e?t:new RegExp(n.toRegexString(t)),e||(i.names=n.getNames(t)),i}},{"./common":25}]},{},[1])(1)})});